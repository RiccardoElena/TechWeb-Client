<div class="relative">
  <div class="w-95/100">
    <h1
      class="mx-4 mt-20 md:mt-10 text-3xl md:text-7xl font-bold mt-10 text-zinc-900 dark:text-zinc-300 truncate"
    >
      {{ meme.title }}
    </h1>
    <h2
      class="text-2xl md:text-4xl text-zinc-900 dark:text-zinc-300 ml-8 truncate"
    >
      by {{ meme.userName }}
    </h2>
  </div>
  <button
    class="absolute w-8 h-8 flex items-center justify-center border-1 hover:bg-red-500 border-red-500 rounded-full top-2 right-4 text-red-100 hover:text-zinc-800 dark:hover:text-zinc-300 bg-white dark:bg-zinc-800"
    type="button"
    (click)="goBack()"
  >
    <fa-icon [icon]="icons.close"></fa-icon>
  </button>
</div>
<div
  class="my-4 p-2 md:p-4 w-95/100 2xl:w-3/5 mx-auto bg-white dark:bg-zinc-800 rounded-lg shadow-md text-zinc-900 dark:text-zinc-300"
>
  <img
    [src]="meme.filePath"
    [alt]="meme.title"
    class="w-full h-auto rounded-lg"
  />
  <p
    class="mt-4 text-md md:text-xl text-justify {{
      showFullDcp ? '' : 'line-clamp-5'
    }}"
  >
    {{ meme.description }}
  </p>
  <span
    (click)="toggleShowFullDcp()"
    class="lg:hidden mb-4 font-bold italic text-amber-300 hover:text-amber-400 underline"
    >read {{ showFullDcp ? "less" : "more" }}</span
  >
  <app-card-info
    [tags]="meme.tags || []"
    [vote]="meme.MemeVotes[0]"
    [upvotesNumber]="meme.upvotesNumber"
    [downvotesNumber]="meme.downvotesNumber"
    [commentsNumber]="meme.commentsNumber"
    (upvoteClick)="handleUpvoteClick()"
    (downvoteClick)="handleDownvoteClick()"
    (commentTextSubmit)="handleCommentSubmit($event)"
  ></app-card-info>
</div>
<div
  class="flex flex-col justify-center my-4 md:mt-8 bg-zinc-100 dark:bg-zinc-800 w-95/100 2xl:w-3/5 mx-auto p-4 rounded-lg shadow-md"
>
  <h3 class="text-2xl md:text-3xl font-bold text-zinc-900 dark:text-zinc-300">
    Comments
  </h3>
  @for(comment of comments(); track comment.id) {
  <app-comment-card [comment]="comment"></app-comment-card>
  } @if(hasMoreComments()){
  <button
    class="mx-auto rounded-xl bg-amber-600 text-zinc-50 dark:bg-amber-700 p-4 font-semibold hover:bg-amber-700 dark:hover:bg-amber-800 transition"
    (click)="loadMore()"
  >
    Show More
  </button>
  }
</div>
